<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÊíÆÂΩ±Â∞èÁâ©„Éû„ÉÉ„Éó</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useRef } = React;
        const { Package, Home, Building2, Plus, X, Search, Filter } = lucideReact || {
            Package: () => React.createElement('div', null, 'üì¶'),
            Home: () => React.createElement('div', null, 'üè†'),
            Building2: () => React.createElement('div', null, 'üè¢'),
            Plus: () => React.createElement('div', null, '+'),
            X: () => React.createElement('div', null, '√ó'),
            Search: () => React.createElement('div', null, 'üîç'),
            Filter: () => React.createElement('div', null, 'üìã')
        };

        const PhotoPropsManager = () => {
            const [items, setItems] = useState([
                { id: 1, name: '„Ç´„É°„É©„É¨„É≥„Ç∫ 24-70mm', image: 'https://via.placeholder.com/100x100/4f46e5/ffffff?text=lens', location: 'company', category: '„Ç´„É°„É©Ê©üÊùê' },
                { id: 2, name: 'LED„É©„Ç§„Éà„Éë„Éç„É´', image: 'https://via.placeholder.com/100x100/dc2626/ffffff?text=LED', location: 'staffA', category: '„É©„Ç§„ÉÜ„Ç£„É≥„Ç∞' },
                { id: 3, name: '„Ç´„Éº„Éú„É≥‰∏âËÑö', image: 'https://via.placeholder.com/100x100/059669/ffffff?text=‰∏âËÑö', location: 'staffB', category: 'ÊîØÊåÅÊ©üÊùê' },
                { id: 4, name: 'Êäò„Çä„Åü„Åü„Åø„É¨„ÉïÊùø', image: 'https://via.placeholder.com/100x100/d97706/ffffff?text=„É¨„Éï', location: 'company', category: '„É©„Ç§„ÉÜ„Ç£„É≥„Ç∞' },
                { id: 5, name: '„Ç´„É°„É©„Éê„ÉÉ„Ç∞', image: 'https://via.placeholder.com/100x100/7c2d12/ffffff?text=BAG', location: 'staffA', category: '„Ç¢„ÇØ„Çª„Çµ„É™„Éº' },
                { id: 6, name: '„ÉØ„Ç§„É§„É¨„Çπ„Éû„Ç§„ÇØ', image: 'https://via.placeholder.com/100x100/1e40af/ffffff?text=MIC', location: 'company', category: 'Èü≥ÈüøÊ©üÊùê' },
            ]);

            const [newItem, setNewItem] = useState({ name: '', category: '' });
            const [showAddForm, setShowAddForm] = useState(false);
            const [searchQuery, setSearchQuery] = useState('');
            const [filterCategory, setFilterCategory] = useState('');
            const [draggedItem, setDraggedItem] = useState(null);
            const fileInputRef = useRef(null);

            const locations = {
                company: { name: '‰ºöÁ§æ', icon: Building2, color: 'bg-blue-50 border-blue-200' },
                staffA: { name: '„Çπ„Çø„ÉÉ„ÉïA„ÅÆÂÆ∂', icon: Home, color: 'bg-green-50 border-green-200' },
                staffB: { name: '„Çπ„Çø„ÉÉ„ÉïB„ÅÆÂÆ∂', icon: Home, color: 'bg-purple-50 border-purple-200' }
            };

            const categories = ['„Ç´„É°„É©Ê©üÊùê', '„É©„Ç§„ÉÜ„Ç£„É≥„Ç∞', 'ÊîØÊåÅÊ©üÊùê', '„Ç¢„ÇØ„Çª„Çµ„É™„Éº', 'Èü≥ÈüøÊ©üÊùê', '„Åù„ÅÆ‰ªñ'];

            const filteredItems = items.filter(item => {
                const matchesSearch = item.name.toLowerCase().includes(searchQuery.toLowerCase());
                const matchesCategory = !filterCategory || item.category === filterCategory;
                return matchesSearch && matchesCategory;
            });

            const handleDragStart = (e, item) => {
                setDraggedItem(item);
                e.dataTransfer.effectAllowed = 'move';
            };

            const handleDragOver = (e) => {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
            };

            const handleDrop = (e, newLocation) => {
                e.preventDefault();
                if (draggedItem) {
                    setItems(prev => prev.map(item => 
                        item.id === draggedItem.id 
                            ? { ...item, location: newLocation }
                            : item
                    ));
                    setDraggedItem(null);
                }
            };

            const handleImageUpload = (e) => {
                const file = e.target.files[0];
                if (file && newItem.name && newItem.category) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        const newId = Math.max(...items.map(item => item.id)) + 1;
                        setItems(prev => [...prev, {
                            id: newId,
                            name: newItem.name,
                            image: event.target.result,
                            location: 'company',
                            category: newItem.category
                        }]);
                        setNewItem({ name: '', category: '' });
                        setShowAddForm(false);
                    };
                    reader.readAsDataURL(file);
                }
            };

            const removeItem = (id) => {
                setItems(prev => prev.filter(item => item.id !== id));
            };

            const getItemsByLocation = (location) => {
                return filteredItems.filter(item => item.location === location);
            };

            return React.createElement('div', { className: "min-h-screen bg-gray-50 p-6" },
                React.createElement('div', { className: "max-w-7xl mx-auto" },
                    React.createElement('div', { className: "mb-8" },
                        React.createElement('h1', { className: "text-3xl font-bold text-gray-900 mb-4" }, 'ÊíÆÂΩ±Â∞èÁâ©„Éû„ÉÉ„Éó'),
                        React.createElement('div', { className: "flex flex-wrap gap-4 mb-6" },
                            React.createElement('div', { className: "relative flex-1 min-w-64" },
                                React.createElement(Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" }),
                                React.createElement('input', {
                                    type: "text",
                                    placeholder: "Â∞èÁâ©Âêç„ÅßÊ§úÁ¥¢...",
                                    value: searchQuery,
                                    onChange: (e) => setSearchQuery(e.target.value),
                                    className: "w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                })
                            ),
                            React.createElement('button', {
                                onClick: () => setShowAddForm(true),
                                className: "flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                            },
                                React.createElement(Plus, { className: "w-4 h-4" }),
                                'Â∞èÁâ©„ÇíËøΩÂä†'
                            )
                        )
                    ),
                    React.createElement('div', { className: "grid grid-cols-1 lg:grid-cols-3 gap-6" },
                        Object.entries(locations).map(([key, location]) => {
                            const LocationIcon = location.icon;
                            const locationItems = getItemsByLocation(key);
                            
                            return React.createElement('div', {
                                key: key,
                                className: `${location.color} border-2 border-dashed rounded-lg p-4 min-h-96`,
                                onDragOver: handleDragOver,
                                onDrop: (e) => handleDrop(e, key)
                            },
                                React.createElement('div', { className: "flex items-center gap-2 mb-4" },
                                    React.createElement(LocationIcon, { className: "w-5 h-5 text-gray-600" }),
                                    React.createElement('h2', { className: "text-lg font-semibold text-gray-800" }, location.name),
                                    React.createElement('span', { className: "bg-gray-200 text-gray-600 text-sm px-2 py-1 rounded-full" }, 
                                        `${locationItems.length}ÂÄã`
                                    )
                                ),
                                React.createElement('div', { className: "grid grid-cols-2 gap-3" },
                                    locationItems.map(item => 
                                        React.createElement('div', {
                                            key: item.id,
                                            draggable: true,
                                            onDragStart: (e) => handleDragStart(e, item),
                                            className: "bg-white rounded-lg shadow-sm p-3 cursor-move hover:shadow-md transition-shadow relative group"
                                        },
                                            React.createElement('img', {
                                                src: item.image,
                                                alt: item.name,
                                                className: "w-full h-20 object-cover rounded mb-2"
                                            }),
                                            React.createElement('h3', { 
                                                className: "font-medium text-sm text-gray-900 truncate",
                                                title: item.name
                                            }, item.name),
                                            React.createElement('p', { className: "text-xs text-gray-500 mt-1" }, item.category)
                                        )
                                    )
                                ),
                                locationItems.length === 0 && React.createElement('div', { className: "flex flex-col items-center justify-center h-32 text-gray-400" },
                                    React.createElement(Package, { className: "w-8 h-8 mb-2" }),
                                    React.createElement('p', { className: "text-sm" }, '„Åì„Åì„Å´Â∞èÁâ©„Çí„Éâ„É≠„ÉÉ„Éó')
                                )
                            );
                        })
                    )
                )
            );
        };

        ReactDOM.render(React.createElement(PhotoPropsManager), document.getElementById('root'));
    </script>
</body>
</html>
